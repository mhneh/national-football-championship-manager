<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng ký</title>
    <!-- get font family (robonto)  -->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto" type="text/css">
    <link rel="stylesheet" href="./assets/css/base.css">
    <link rel="stylesheet" href="./assets/css/style1.css">
    <link rel="stylesheet" href="./assets/css/grid.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <script src="./assets/javascript/main.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
</head>

<body>
    <main id="main">
        <!-- Trang dau tien -->
        <div class="main__header ">
            <div class="main__header-overlay">
            </div>
            <!-- header + nav bar -->
            <header class="header grid wide">
                <div class="header__navbar">
                    <div class="header__logo">
                        <img src="./assets/images/logo.png" alt="logo" class="header__logo-img">
                    </div>
                    <div class="header__account">
                        <ul class="header__list">
                            <li class="header__item">
                                <a href="./login.html" class="header__item-link"
                                    style="font-weight: bold; line-height: 1.6rem;">Đăng nhập</a>
                            </li>
                            <li class="header__item">
                                <a href="./signup.html" class="header__item-link header__item-link-active"
                                    style="font-weight: bold; line-height: 1.6rem;">Đăng ký</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="header__navbar">
                    <ul class="header__list">
                        <li class="header__item">
                            <a href="./index.html" class="header__item-link">Trang chủ</a>
                        </li>
                        <li class="header__item">
                            <a href="./tounament.html" class="header__item-link">Giải đấu</a>
                        </li>
                        <li class="header__item">
                            <a href="./football_team.html" class="header__item-link">Đội bóng</a>
                        </li>
                        <li class="header__item">
                            <a href="./match.html" class="header__item-link">Trận đấu</a>
                        </li>
                        <li class="header__item">
                            <a href="./players/index.html" class="header__item-link">Cầu thủ</a>
                        </li>
                    </ul>
                </div>
            </header>

            <!-- phan dang ky -->
            <div class="signup">
                <div class="signup__bg">
                <form class="signup__form" id="form-signup">
                    <div class="signup__form-box">
                        <div>
                            <div class="signup__items">
                                Tên đăng nhập
                            </div>
                            <input type="text" id="username" placeholder="Nhập tên đăng nhập"
                                class="signup__items-input" size="50">
                            <div class="login__notice" id="notice_username"></div>
                        </div>
                        <div>
                            <div class="signup__items">
                                Mật khẩu
                            </div>
                            <input type="password" id="password" placeholder="Nhập mật khẩu" class="signup__items-input"
                                size="50">
                            <div class="login__notice" id="notice_password"></div>
                        </div>
                        <div>
                            <div class="signup__items">
                                Nhập lại mật khẩu
                            </div>
                            <input type="password" id="repassword" placeholder="Nhập lại mật khẩu"
                                class="signup__items-input" size="50">
                            <div class="login__notice" id="notice_repassword"></div>
                        </div>
                        <div>
                            <div class="signup__items">
                                Email
                            </div>
                            <input type="text" id="email" placeholder="Nhập email" class="signup__items-input"
                                size="50">
                            <div class="login__notice" id="notice_email"></div>
                        </div>
                        <div>
                            <div class="signup__items">
                                Số điện thoại
                            </div>
                            <input type="text" id="phone" placeholder="Nhập số điện thoại" class="signup__items-input"
                                size="50">
                            <div class="login__notice" id="notice_phone"></div>
                        </div>
                        <div>
                            <div class="signup__items">
                                Quốc tịch
                            </div>
                            <input type="text" id="nation" placeholder="Nhập quốc tịch" class="signup__items-input"
                                size="50">
                            <div class="login__notice" id="notice_nation"></div>
                        </div>
                        <div>
                            <div class="signup__items">
                                Vai trò
                            </div>
                            <div class="signup__items-input">
                            <select type="text" id="nation" placeholder="Nhập quốc tịch" class="signup_item-select">
                                <option value="tournament manager">Người quản lý giải đấu</option>
                                <option value="team manager">Người quản lý đội bóng</option>
                                <option value="user">Người dùng</option>
                            </select>
                            </div>
                            <div class="login__notice" id="notice_nation"></div>
                        </div>
                    </div>
                    <button type="submit" class="signup__form-btn">Đăng ký</button>
                </form>
                <div class="signup__hef "> Đã có tài khoản?
                    <a href="./login.html" title="Đăng nhập" style="color: red"> Đăng nhập</a>
                </div>
            </div>
            </div>

        </div>
    </main>
    <script>
        $(function () {
            $("#form-signup").submit(function (e) {
                e.preventDefault();
                var cansubmit = true;
                if (checkUsername($("#username").val()) == false) {
                    $("#notice_username").html("Username không được có khoảng trắng, chỉ gồm các kí tự, kí số và dấu _, không được bắt đầu bởi kí số.");
                    cansubmit = false;
                }
                else $("#notice_username").html("");
                if (checkPassword($("#password").val()) == false) {
                    $("#notice_password").html("Mật khẩu phải gồm ít nhất 6 kí tự.");
                    cansubmit = false;
                }
                else $("#notice_password").html("");
                if (checkRePw($("#password").val(), $("#repassword").val()) == false) {
                    $("#notice_repassword").html("Mật khẩu không chính xác.");
                    cansubmit = false;
                }
                else $("#notice_repassword").html("");
                if (checkEmail($("#email").val()) == false) {
                    $("#notice_email").html("Email không hợp lệ. Email phải theo chuẩn email thông thường.");
                    cansubmit = false;
                }
                else $("#notice_email").html("");
                if (checkPhonenumber($("#phone").val()) == false) {
                    $("#notice_phone").html("Số điện thoại không hợp lệ.");
                    cansubmit = false;
                }
                else $("#notice_phone").html("");
                if (checkNation($("#nation").val()) == false) {
                    $("#notice_nation").html("Quốc tịch không hợp lệ.");
                    cansubmit = false;
                }
                else $("#notice_nation").html("");
                if (!cansubmit) return
            });
        })

        function checkUsername(str) {
            let regex1 = /^[^0-9](\w){1,}$/;
            let regex2 = /^[A-Za-z](\w){1,}$/;
            let regex3 = /^[^0-9]$/;
            let regex4 = /^[A-Za-z]$/;
            return (
                (regex1.test(str) && regex2.test(str)) ||
                (regex3.test(str) && regex4.test(str))
            );
        }
        function checkEmail(str) {
            let regex = /^[a-z][a-z0-9_\.]{5,29}@[a-z0-9]{2,}(\.[a-z0-9]{2,}){1,3}$/;
            return regex.test(str);
        }
        function checkPassword(str) {
            return (str.length >= 6);
        }
        function checkRePw(str1, str2) {
            return (str1 == str2)
        }
        function checkPhonenumber(str) {
            let regex = /^[0]\d{9}$/;
            return regex.test(str);
        }
        function checkNation(str) {
            let regex1 = /^[A-Z].{1,}(\s[A-Z].{1,}){1,}$/;
            let regex2 = /^[A-Z].{1,}$/;
            return regex1.test(str) || regex2.test(str);
        }
    </script>
</body>

</html>